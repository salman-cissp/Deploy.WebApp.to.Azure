Setup for the shopping cart. When items are added to the cart from catalog, it will be stored in the redis

- create
	- ``readitredis0523

Connect to Catalog:
- VS Code
	- catalog
		- add connection string in 'appsettings.json'<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/c32fe1ba-d52f-4c31-8171-7b7c9e40dc28)

		- uncomment code in 'index.cshtml.cs'<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/f3b66dfc-4bc3-459a-80cd-59934010461e)

	- run locally
	- test
		- cart shows 3 items which were added previously<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/dd86e812-f0aa-499a-bd40-7b43b26b05af)

		- remove one book<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/718c161f-afe2-402d-a4b9-385780bfec1f)

		- catalog should now show 2 also<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/389942ee-d8b0-4439-b5c2-f8037714f4a6)

		
		
 - Publish to azure
	- web server on ``catalog-vm
		- stop server
		- copy published files from VS code to catalog folder 
		- start server
	- test
		- if it shows 2 books in the cart, it means it is connected to redis
		- add another book<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/e4f441da-e61e-4c3d-a73c-7db558247eef)

Connect to Cart:
- VS Code
	- cart
		- add connection string for redis & DB in 'appsettings.json'<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/5c642d43-d654-42e0-881e-0247e8ae6d52)

		- get 'Function Url' from ' ``ProcessOrderCosmos`` from function app and add to ``OrderFunctionUrl`<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/98bc1fb8-17fc-4427-a453-7ecc537503f2)

		- uncomment code in 'index.cshtml.cs'<br>
	 ![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/8b5988b2-f054-4a54-83a1-2c98538f7f98)

 - Placing Order
	 - go to function ``ProcessOrderCosmos
		 - check logs while placing order from the cart 'Code+Text'<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/85532040-5bc3-4e27-850b-4d848295846f)

		 - place order from the local code in VS Code<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/4e25a94b-a846-4d2d-830c-ed30a29e161d)


		 - order is placed as the logs show<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/b0cfd910-461a-497a-ac0d-c5658ba833f9)
		 - check Cosmos db which show the order<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/ef636a3f-a190-480b-a003-92a1dbfc2a97)

		 - so far we are running the cart code locally, it needs to be from azure as a container
			 - build image<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/bff137f6-c4a4-4b5b-a740-b0f82809d4a8)

			 - deploy to ACR<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/161283a8-cf4e-4b55-b11d-636a2f670ee9)

			 - deploy to AKS
				 - ``kubectl apply -f deployment.yam
				 - test<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/39cd9528-57f1-4eef-ad11-2d47c8cdd915)
![Pasted image 20230515104915](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/bc75c79c-d79e-4a2f-a0c4-e795d6018e66)

				 
				 - add 2 books from catalog<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/de2532eb-95c9-472f-99dd-ccea7f824d41)

				 - now check the cart we just deployed in AKS<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/cddff928-28a4-428f-8200-125d6a72adb8)

				 	 
				 - that means docker image in AKS is connected to redis & azure sql db
				 - is it also connected to azure function which will place the order?
					 - place the order<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/cf172ba9-03ae-4528-8c25-63924a21d12e)
![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/bb6b85e5-8ac6-41be-9d44-45a9e5dbcba2)

					 
					 
					 - check the logs in ``ProcessOrderCosmos`` function<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/5b8d4293-c3ca-4d0c-8668-268574daa06e)

				- so we now have the catalog, inventory , cart and the order function all working together
				- The most important part is that we successfully connected redis to catalog and cart app<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/cce54716-1752-477d-9d46-d73e61357632)

				- Are we done ?<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/592291f5-fe56-4bd7-beb2-222f918a3a42)

				  
				 
		 
 
