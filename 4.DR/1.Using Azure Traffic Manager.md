- create new
	- routing method should be 'priority'<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/9e27a585-fe5a-4903-9179-a131d18e4861)

	- change probing interval & tolerated # of failures (every 10 secs & 1 failure)<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/db06567f-b407-4b9f-926e-616c448e27cc)

- implement DR on inventory app service as it uses port 80 which is supported by traffic manager, other ports would be complicated to setup
	- set endpoint<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/32801a71-8026-4b52-9f94-912af09563b7)

	- disable app service authentication, as in order for traffic manager to work with the authentication, we will have to enable custom domain which would make it more complicated. So for the sake of simplicity we disable it<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/7b17c1bd-487f-4745-a468-9c677afc0d66)

	- test that it works without authentication<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/f0226342-4b4a-4180-9951-369da3d4fb6c)

	- will have to change the free tier to standard, as traffic manager doesnt support free tier<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/6224faec-db5c-4b7e-b211-19fd0db0e9c0)

	- lets check the traffic manager
		-  ``http://readit.trafficmanager.net``
		- it means traffic is being routed via traffic manager
		 ![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/2483dea7-44c1-4f87-b08d-d81eb84490cd)

	- to test DR of inventory app, we will have to create a secondary app to switch over to in case of disaster
		- create new, make sure in the UK West region<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/f34dfbd0-1d9b-4a7b-b0a3-05d71ef45617)

		- test the app, it should be a generic app which is what we need for testing<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/efaed417-23a5-4f75-ba7a-e0c50fba1534)

		- add this new app as an endpoint in traffic manager, should have a priority of 2<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/7a9f2231-6b52-42b0-b32a-5c639d16c969)

		 ![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/5a65d0d8-660d-417b-8612-9c654eebc8d4)

	- Time to test
		- check ``http://readit.trafficmanager.net/``
		- it shows primary app<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/67a47ec9-b22d-47cd-a63d-17f50b9dd5d2)

		- stop the primary app<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/1c9191b9-951d-4e12-b6c5-9c43da534ced)

		- try again
		- it shows secondary app which means traffic manager automatically switched it to secondary<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/12f4c2f4-204b-43ce-9205-d8f37c68f24f)

		- start the primary app<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/d5e0856e-5f17-4ef3-bac3-16dc2005bb06)

		- switches back to the primary app<br>![download](https://github.com/salman-cissp/Deploy.WebApp.to.Azure/assets/134168108/73cfa25a-d472-4f2b-a5bf-35885db1d2bb)

		
